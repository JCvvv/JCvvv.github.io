<!DOCTYPE html><html lang="zh" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>使用Ren'Py框架开发视觉小说 | 锦尘</title><meta name="keywords" content="python,Ren'Py,视觉小说"><meta name="author" content="锦尘"><meta name="copyright" content="锦尘"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="北京的小伙伴打大创缺一个程序员，就拉我来打工了，项目是做一个扶贫故事的视觉小说">
<meta property="og:type" content="article">
<meta property="og:title" content="使用Ren&#39;Py框架开发视觉小说">
<meta property="og:url" content="https://jcvvv.github.io/2022/11/04/Ren'Py%20Visual%20Novel/index.html">
<meta property="og:site_name" content="锦尘">
<meta property="og:description" content="北京的小伙伴打大创缺一个程序员，就拉我来打工了，项目是做一个扶贫故事的视觉小说">
<meta property="og:locale">
<meta property="og:image" content="https://jcvvv.github.io/pic/cover/13.jpg">
<meta property="article:published_time" content="2022-11-03T16:00:00.000Z">
<meta property="article:modified_time" content="2023-07-31T02:35:36.378Z">
<meta property="article:author" content="锦尘">
<meta property="article:tag" content="python">
<meta property="article:tag" content="Ren&#39;Py">
<meta property="article:tag" content="视觉小说">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://jcvvv.github.io/pic/cover/13.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://jcvvv.github.io/2022/11/04/Ren'Py%20Visual%20Novel/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":false,"highlightHeightLimit":200},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isAnchor: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '使用Ren\'Py框架开发视觉小说',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-31 10:35:36'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.2.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/favicon.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fa-solid fa-image"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/pic/cover/13.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">锦尘</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 列表</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/gallery/"><i class="fa-fw fa-solid fa-image"></i><span> 图库</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">使用Ren'Py框架开发视觉小说</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-11-03T16:00:00.000Z" title="发表于 2022-11-04 00:00:00">2022-11-04</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-31T02:35:36.378Z" title="更新于 2023-07-31 10:35:36">2023-07-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E6%95%99%E7%A8%8B/">教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">4,873</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>18分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="使用Ren'Py框架开发视觉小说"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>Ren’Py这个框架上限虽然没有unity高，但它胜在小巧便捷方便上手，但想要灵活掌握也不是很容易的。在这里我会简单分享一些使用心得，以及用奇奇怪怪的思路实现我的需求，下面就让我们开始吧！</p>
<h2 id="简单的开始"><a href="#简单的开始" class="headerlink" title="简单的开始"></a>简单的开始</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">label start:</span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;希尔维亚&quot;</span> <span class="string">&quot;嗨！今天的课怎么样？&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;我&quot;</span> <span class="string">&quot;挺好的……&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;我当然不会承认，上课的时候内容只是左耳进右耳出。&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;我&quot;</span> <span class="string">&quot;你现在要回家了吗？要不要跟我一起走？&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;希尔维亚&quot;</span> <span class="string">&quot;当然！&quot;</span></span><br></pre></td></tr></table></figure>

<p>这是一个非常简单的Ren’Py游戏。它不包含任何图片和音乐，但它展示了两个角色之间的一次对话，以及一行旁白。</p>
<p>如果想要尝试，从启动器(launcher)顶端选择“My Question”项目，进入“编辑文件”并选择“script.rpy”。如果这是你首次进入编辑模式，Ren’Py会询问选用哪一款编辑器(我们向新人推荐Editra)，并下载你选择的那款。启动器(launcher)会使用编辑器打开rpy脚本文件。</p>
<p>编辑器打开后，清除script.rpy里所有内容。我们将从零开始，所以你不需要原来的那些内容。将上面案例复制到script.rpy里并保存文件。</p>
<p>现在万事俱备，可以运行这个样例了。回到启动器(launcher)主界面，选择“启动项目”。Ren’Py会启动运行。注意，不需要额外的工作量，Ren’Py就已经提供了可以读档和存档以及改变配置项的菜单选项。当这些工作都完成时，点击“启动项目”，就可以玩这个样例游戏了。</p>
<p>这个样例展示了一些常用的Ren’Py语句。</p>
<p>第一行是一个 <a target="_blank" rel="noopener" href="https://www.renpy.cn/doc/label.html#label-statement">label语句</a>。label语句常用于在程序中给某个脚本点命名。在这个例子中，我们创建了一个名为 <code>start</code> 的标签。start标签是特殊的，因为当用户点击主菜单的“开始游戏”时，Ren’Py脚本会从这个标签开始运行。</p>
<p>其他行是 <a target="_blank" rel="noopener" href="https://www.renpy.cn/doc/dialogue.html#say-statement">say语句</a>。say语句有两种格式。一种格式是，一行单独字符串(双引号开头，双引号结束，中间文字)，用于表现主视角角色的陈述或者内心想法。另一种格式有两个字符串组成。常用于对话，第一个字符串是说话角色名字，第二个字符串是该角色正在说的话。</p>
<p>注意，所有say语句都要用4个空格(半角)缩进.这是因为say语句属于同一个标签语句下的语句块(block)。在Ren’Py中，语句块(block)必须相对于从属的主语句缩进，并且同一个语句块(block)的语句使用同样的缩进量。</p>
<p>当文本自身包含双引号时，需要使用反斜杠作为转义符。例如</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;希尔维亚&quot; &quot;你有没有听过林肯著名的格言， \&quot;网络无真相\&quot;？&quot;</span><br></pre></td></tr></table></figure>

<p>当然这个简单游戏没什么可多看的，它只是一个演示如何在Ren’Py里简单构建框架的样例。之后我们会添加一些图片，不过首先，让我们看看如何定义角色。</p>
<h2 id="创建角色"><a href="#创建角色" class="headerlink" title="创建角色"></a>创建角色</h2><p>在第一个样例里存在一个问题，每当角色说话时，你需要反复输入角色名字。在一个对话为主的游戏中，这可能是很繁重的工作。还有，游戏启动后角色名字始终会以强调色显示。为了解决这些问题，Ren’Py允许你在开头就定义角色。这可以使你用一个短名关联一个角色，并且能够改变角色名字显示的颜色。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">define s = Character(<span class="string">&#x27;希尔维亚&#x27;</span>, color=<span class="string">&quot;#c8ffc8&quot;</span>)</span><br><span class="line">define m = Character(<span class="string">&#x27;我&#x27;</span>, color=<span class="string">&quot;#c8c8ff&quot;</span>)</span><br><span class="line"></span><br><span class="line">label start:</span><br><span class="line"></span><br><span class="line">    s <span class="string">&quot;嗨！今天的课怎么样？&quot;</span></span><br><span class="line"></span><br><span class="line">    m <span class="string">&quot;挺好的……&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="string">&quot;我当然不会承认，上课的时候内容只是左耳进右耳出。&quot;</span></span><br><span class="line"></span><br><span class="line">    s <span class="string">&quot;你现在要回家了吗？要不要跟我一起走？&quot;</span></span><br><span class="line"></span><br><span class="line">    m <span class="string">&quot;当然！&quot;</span></span><br></pre></td></tr></table></figure>

<p>第一和第二行语句定义了角色。第一行定义一个短名为“s”，长名为“希尔维亚”的角色，名字颜色为淡绿色。(如同网页里常见的，这里的颜色使用RGB的16进制字符表示)</p>
<p>第二行创建一个短名为“m”，长名为“我”的角色，名字颜色为淡红色。其他角色的定义可以使用“复制-粘贴”，修改角色的长名、短名和名字颜色。</p>
<p>我们也已经使用角色对象代替了角色名字字符串。这会告诉Ren’Py使用我们定义的对应角色。</p>
<h2 id="显示图像"><a href="#显示图像" class="headerlink" title="显示图像"></a>显示图像</h2><p>一个视觉小说如果没有图像的话就称不上视觉小说了。在“The Question”里还有另外一个场景。这也包含了一些语句展现角色图像。如果你想尝试的话，用这段内容完全覆盖之前那个脚本。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">define s = Character(&#x27;希尔维亚&#x27;, color=&quot;#c8ffc8&quot;)</span><br><span class="line">define m = Character(&#x27;我&#x27;, color=&quot;#c8c8ff&quot;)</span><br><span class="line"></span><br><span class="line">label start:</span><br><span class="line"></span><br><span class="line">    scene bg meadow</span><br><span class="line"></span><br><span class="line">    &quot;不久之后，我们就抵达了牧场，也是我们俩人出生的地方&quot;</span><br><span class="line"></span><br><span class="line">    &quot;我就是在这样的风景环绕之中成长起来的。这里的秋天格外秀美。&quot;</span><br><span class="line"></span><br><span class="line">    &quot;童年时，我们经常在牧场里玩耍，所以这里满满充斥着回忆。&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;嗨……唔……&quot;</span><br><span class="line"></span><br><span class="line">    show sylvie green smile</span><br><span class="line"></span><br><span class="line">    &quot;她把脸转向我，上面挂着微笑。她看起来兴致高昂。我觉得自己刚才的紧张情绪已经消散。&quot;</span><br><span class="line"></span><br><span class="line">    &quot;我得问问她！&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;嗯呣……你是否可以……&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;你是否可以做我的视觉小说画师？&quot;</span><br><span class="line"></span><br><span class="line">    show sylvie green surprised</span><br><span class="line"></span><br><span class="line">    &quot;沉默。&quot;</span><br></pre></td></tr></table></figure>

<p>这段脚本出现了两种新的语句。第6行的 <code>scene</code> 语句清除了所有图像并显示了一个背景图像。从第16行至第26行的 <code>show</code> 语句在背景上显示了一个精灵(sprite)， 并根据预设改变展示的精灵。</p>
<p>在Ren’Py中，每个图像都有一个名称。该名称包含一个tag(译者注：图像标签，与label脚本标签不同)，以及一个以上的可选属性(attribute)。tag标签和属性名必须以字母开头，包含字母、数字和下划线。例如：</p>
<ul>
<li>第6行的scene语句中，tag标签是“bg”，属性是“meadow”。按照习惯，背景图像应该使用的bg作为tag标签。</li>
<li>第16行的第一个show语句中，tag标签是“sylvie”，属性是“green”和“smile”。</li>
<li>第26行的第二个show语句中，tag标签是“sylvie”，属性是“green”和“surprised”。</li>
</ul>
<p>给定tag标签时，每次只能展示一副图像。当拥有同样tag标签的第二副图像需要展示时，它会直接替换第一副图像，如同在第26行里发生的情况。</p>
<p>Ren’Py会在images目录下搜索图像文件，可以通过启动器(launcher)的“打开目录”选项里选择“images”完成配置。Ren’Py能使用PNG或者WEBP文件作为角色美术资源，JPG、JPEG、PNG或者WEBP文件作为背景美术资源。文件的命名相当重要，Ren’py将使用除去扩展名后，强制字母变为小写的文件名来作为图象名。</p>
<p>例如，images目录下的这些文件，定义了下列图像：</p>
<ul>
<li>“bg meadow.jpg” -&gt; <code>bg meadow</code></li>
<li>“sylvie green smile.png” -&gt; <code>sylvie green smile</code></li>
<li>“sylvie green surprised.png” -&gt; <code>sylvie green surprised</code></li>
</ul>
<p>因为文件名会被转换为小写字母，所以下面这种方式也可行。</p>
<ul>
<li>“Sylvie Green Surprised.png” -&gt; <code>sylvie green surprised</code></li>
</ul>
<p>图像可以被放在images目录的子目录(子文件夹)中。目录名忽略，只使用文件名定义图像名。</p>
<p><strong>hide语句。</strong> Ren’Py也支持hide语句，可以用来隐藏图像。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">label leaving:</span><br><span class="line"></span><br><span class="line">    s &quot;我立刻去办！&quot;</span><br><span class="line"></span><br><span class="line">    hide sylvie</span><br><span class="line"></span><br><span class="line">    &quot;...&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;我不是这个意思！&quot;</span><br></pre></td></tr></table></figure>

<p>实际上，你需要使用hide语句的情况非常少见。show语句能用在角色情感变化，而scene语句用在所有人离开的情况。当某个角色离开但场景不变化时，你才需要使用hide语句。</p>
<p><strong>image语句。</strong> 有时候，制作者可能不想让Ren’Py自动定义图像。这时image语句就能派上用场。它应该出现在文件最顶层(不缩进，在label标签前面)，为图像文件指定对应的图像名称。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">image logo = &quot;renpy logo.png&quot;</span><br><span class="line">image eileen happy = &quot;eileen_happy_blue_dress.png&quot;</span><br></pre></td></tr></table></figure>

<p>image语句于初始化阶段就会运行，早于label标签开始以及其他的游戏脚本与玩家交互。</p>
<p>image语句也用于比较复杂的任务，但我们会在 <a target="_blank" rel="noopener" href="https://www.renpy.cn/doc/displaying_images.html">其他地方</a> 讨论这部分。</p>
<h2 id="转场效果"><a href="#转场效果" class="headerlink" title="转场效果"></a>转场效果</h2><p>在上面的脚本中，图像的切换十分生硬。由于切换地点或者角色的出场、离场很重要，Ren’Py支持图像的各种转场效果。</p>
<p>转场切换用于显示在最后一个交互(对话、菜单或来源于其他语句的转场)发生后，到下一个scene、show或hide语句运行之间。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">label start:</span><br><span class="line"></span><br><span class="line">    scene bg meadow</span><br><span class="line">    with fade</span><br><span class="line"></span><br><span class="line">    &quot;不久之后，我们就抵达了牧场，也是我们俩人出生的地方。&quot;</span><br><span class="line"></span><br><span class="line">    &quot;我就是在这样的风景环绕之中成长起来的。这里的秋天格外秀美。&quot;</span><br><span class="line"></span><br><span class="line">    &quot;童年时，我们经常在牧场里玩耍，所以这里满满充斥着回忆。&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;嗨……唔……&quot;</span><br><span class="line"></span><br><span class="line">    show sylvie green smile</span><br><span class="line">    with dissolve</span><br><span class="line"></span><br><span class="line">    &quot;她把脸转向我，上面挂着微笑。她看起来兴致高昂。我觉得自己刚才的紧张情绪已经消散。&quot;</span><br><span class="line"></span><br><span class="line">    &quot;我得问问她！&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;嗯呣……你是否可以……&quot;</span><br><span class="line"></span><br><span class="line">    m &quot;你是否可以做我的视觉小说画师？&quot;</span><br></pre></td></tr></table></figure>

<p>这里的with语句决定了需要使用的转场效果名。最常用的转场效果是 <code>dissolve</code> (溶解)。 另一个有用的转场效果是 <code>fade</code> (褪色)，能让界面褪为全黑，然后逐渐亮起成新的界面。</p>
<p>当在多个scene、show、hide语句之后有一个转场效果，将对以上所有语句都有效。如果你写成这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scene bg meadow</span><br><span class="line">show sylvie green smile</span><br><span class="line">with dissolve</span><br></pre></td></tr></table></figure>

<p>“bg meadow”和“sylvie green smile”图像会同时使用dissolve转场。如果想要每次只让其中之一使用dissolve转场，你需要写两个转场语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scene bg meadow</span><br><span class="line">with dissolve</span><br><span class="line">show sylvie green smile</span><br><span class="line">with dissolve</span><br></pre></td></tr></table></figure>

<p>场景meadow里有第一个dissolve效果，而角色sylvie里有第二个dissolve效果。如果你想要立刻展现meadow场景，然后使用转场效果展现角色sylvie，你可以这样写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scene bg meadow</span><br><span class="line">with None</span><br><span class="line">show sylvie smile</span><br><span class="line">with dissolve</span><br></pre></td></tr></table></figure>

<p>这里的“None”被用于标识一个特殊转场效果，对玩家来说主界面没有产生任何特殊效果。</p>
<h2 id="位置变换"><a href="#位置变换" class="headerlink" title="位置变换"></a>位置变换</h2><p>图像在展示时默认水平居中，图像底部与界面底部相接。这样设计通常对背景和单个角色没问题，但当界面上需要展现1个以上角色时，重新调整图像位置也是十分合理的。同样，基于剧情需要，调整单一角色的图像位置也可以理解。</p>
<p>图像在展示时默认水平居中，图像底部与界面底部相接。这样设计通常对背景和单个角色没问题，但当界面上需要展现1个以上角色时，重新调整图像位置也是十分合理的。同样，基于剧情需要，调整单一角色的图像位置也可以理解。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show sylvie green smile at right</span><br></pre></td></tr></table></figure>

<p>为了重新调整图像位置，需要在show语句中添加一个at分句。at分句指定了图像的展示位置。Ren’Py中包含了多个域定义的位置关键字: <code>left</code> 表示界面左端， <code>right</code> 表示屏幕右端， <code>center</code> 表示水平居中(默认位置)， <code>truecenter</code> 表示水平和垂直同时居中。</p>
<h2 id="音乐和音效"><a href="#音乐和音效" class="headerlink" title="音乐和音效"></a>音乐和音效</h2><p>大多数Ren’Py游戏都会播放背景音乐。音乐播放需要使用play music语句。play music语句将语句中指定的文件名识别为一个音频文件并播放。Ren’Py跟识别音频文件名并在game目录下寻找关联文件。音频文件应该是opus、ogg vorbis或者mp3格式的文件。</p>
<p>举例:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">play music &quot;audio/illurock.ogg&quot;</span><br></pre></td></tr></table></figure>

<p>更换音乐时，我们可以使用一个fadeout and fadein分句，fadeout and fadein分句用于旧音乐的淡出和新音乐的淡入。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">play music &quot;audio/illurock.ogg&quot; fadeout 1.0 fadein 1.0</span><br></pre></td></tr></table></figure>

<p>queue music语句表示，在当前音乐播放完毕后播放的音频文件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">queue music &quot;audio/next_track.opus&quot;</span><br></pre></td></tr></table></figure>

<p>乐播放可以使用stop music语句停止，这个语句也可选用fadeout分句。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stop music</span><br></pre></td></tr></table></figure>

<p>音效可以使用play sound语句来播放。与音乐不同，音效不会循环播放。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">play sound &quot;audio/effect.ogg&quot;</span><br></pre></td></tr></table></figure>

<p>在“game&#x2F;audio”目录中的音频文件，如果其文件名去掉文件扩展名后符合Python变量的命名规则(以字母开头且仅包含英文字母、数字或下划线)， 则可以直接不带引号，直接使用文件名播放音频文件。</p>
<p>例如，存在一个音频文件“game&#x2F;audio&#x2F;illurock.ogg”。我们可以直接在脚本中写：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">play music illurock</span><br></pre></td></tr></table></figure>



<h2 id="暂停语句"><a href="#暂停语句" class="headerlink" title="暂停语句"></a>暂停语句</h2><p>pause语句可以让整个Ren’Py进程暂停，直到出现鼠标单击事件。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pause</span><br></pre></td></tr></table></figure>

<p>如果pause语句中给定一个数字，就只会暂停数字对应的秒数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pause 3.0</span><br></pre></td></tr></table></figure>



<h2 id="结束游戏"><a href="#结束游戏" class="headerlink" title="结束游戏"></a>结束游戏</h2><p>通过运行return语句，你可以结束游戏，而不需要做其他任何事。在此之前，最好设置一些东西能够提示游戏已经结束，并且可能的话给用户一个结局数字或者结局名称。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;.:. Good 结局。&quot;</span><br><span class="line"></span><br><span class="line">return</span><br></pre></td></tr></table></figure>

<p>这就是你制作一个动态小说(kinetic novel)所需要做的，动态小说是指没有任何分支选项的游戏。现在，我们将关注如何在游戏中为用户提供菜单。</p>
<h2 id="分支语句"><a href="#分支语句" class="headerlink" title="分支语句"></a>分支语句</h2><p>menu语句能够给玩家提供一个分支选项:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    s &quot;当然，不过，什么是\&quot;视觉小说\&quot;？&quot;</span><br><span class="line"></span><br><span class="line">menu:</span><br><span class="line"></span><br><span class="line">    &quot;是一种视频游戏。&quot;:</span><br><span class="line">        jump game</span><br><span class="line"></span><br><span class="line">    &quot;是一种互动小说。&quot;:</span><br><span class="line">        jump book</span><br><span class="line"></span><br><span class="line">label game:</span><br><span class="line"></span><br><span class="line">    m &quot;是一种可以在电脑和主机上玩的视频游戏。&quot;</span><br><span class="line"></span><br><span class="line">    jump marry</span><br><span class="line"></span><br><span class="line">label book:</span><br><span class="line"></span><br><span class="line">    m &quot;就像一种可以在电脑和主机上阅读的互动式图书。&quot;</span><br><span class="line"></span><br><span class="line">    jump marry</span><br><span class="line"></span><br><span class="line">label marry:</span><br><span class="line"></span><br><span class="line">    &quot;那么，我们已经成为视觉小说创作二人组了。&quot;</span><br></pre></td></tr></table></figure>

<p>这个例子展示了在Ren’Py中如何使用menu语句。menu语句提供了一个游戏内的分支选项。menu语句使用一段缩进的文字，每一段文字后都跟着一个冒号。这段文字描述是提供给玩家的选项。每一个选项下面一行的缩进文字，是选择之后对应选项后会运行的脚本内容。</p>
<p>在这个例子中，两个选项中各运行一个jump语句。jump语句将控制转换至label(脚本标签)对应的label语句。在跳转后，脚本会执行label下的语句。</p>
<p>在上面的例子中，Sylvie提出她的问题后，玩家会面临“二选一”的分支选项。如果玩家选择“是一种视频游戏。”，第一个jump语句会执行，Ren’Py会跳转到 <code>game</code> label脚本位置。这会引发主视角角色说“是一种可以在电脑和主机上玩的视频游戏。”，然后Ren’Py将跳转到 <code>marry</code> label。</p>
<p>如果label后面相关的语句块(block)之后没有jump语句，Ren’Py会顺序执行后面的语句。最后的jump语句在技术上不是必须的，不过带上一个会让游戏流程显得更清晰。</p>
<p>游戏目录中任意后缀为 .rpy 的文件中都可以定义label。对于Ren’Py来说文件名无关紧要，只有文件里的label才是重点。你可以认为，所有这些rpy文件的合集等价于一个很大的rpy文件，用于跳转和转换控制。这种设计提供了你“构建一个更庞大游戏”的脚本所需的灵活度。</p>
<h2 id="存储标识"><a href="#存储标识" class="headerlink" title="存储标识"></a>存储标识</h2><p>上面那些语句已经足以用于制作某些游戏，其他一些游戏则需要保存数据及提取数据。例如，制作者需要游戏记下玩家做出的一个选择，先返回主线流程中，并在后面的流程中根据之前的选择出现对应的游戏变现，这是个合理的需求。这就是Ren’Py支持内嵌Python代码的原因。</p>
<p>这一段，我们将演示如何存储一个flag(标识)，该flag(标识)包含了玩家做过的某个选择。我们需要先初始化flag(标识)，在label之前，使用default语句。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 如果玩家决定将视觉小说比作一本图书，则设置为True。</span><br><span class="line">default book = False</span><br><span class="line"></span><br><span class="line">label start:</span><br><span class="line"></span><br><span class="line">    s &quot;嗨！今天的课怎么样？&quot;</span><br></pre></td></tr></table></figure>

<p>名为“book”的flag(标识)被初始化为特殊值 <code>False</code> (请注意首字母大写)，表示该flag还未被设置。如果label “book”对应的路径被选择，我们将使用一个Python assignment(Python 赋值)语句将其设置为True。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">label book:</span><br><span class="line"></span><br><span class="line">    $ book = True</span><br><span class="line"></span><br><span class="line">    m &quot;就像一种可以在电脑和主机上阅读的互动式图书。&quot;</span><br><span class="line"></span><br><span class="line">    jump marry</span><br></pre></td></tr></table></figure>

<p>以美元标志符“$”开头那行文本会被识别为Python语句。assignment(赋值)语句将这里的“book”判定为一个变量而不是一个值。Ren’Py已经支持一些其他包含Python代码的办法，例如多行的Python语句。我们将在本手册的其他章节讨论这点。 Ren’Py现在支持Python 2.7。不过我们还是强烈推荐写可以同时在Python2和Python3两个版本正常运行的Python语句。</p>
<p>需要检查flag(标识)时，请使用if语句:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if book:</span><br><span class="line"></span><br><span class="line">    &quot;我们的第一个游戏是基于希尔维亚的一个主意，但是后面我想实现一个自己设计的故事。&quot;</span><br></pre></td></tr></table></figure>

<p>如果结果为True，if语句下的脚本语句块(block)将执行。相反，if语句下的脚本语句块(block)将被跳过。if语句也可以包含一个else分句，当if结果为False时，将执行else分句中的脚本语句块(block)。:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">if book:</span><br><span class="line"></span><br><span class="line">    &quot;我们的第一个游戏是基于希尔维亚的一个主意，但是后面我想实现一个自己设计的故事。&quot;</span><br><span class="line"></span><br><span class="line">else:</span><br><span class="line"></span><br><span class="line">    &quot;我们的第一个视频游戏中，希尔维亚在脚本方面给了很多帮助。&quot;</span><br></pre></td></tr></table></figure>

<p>Python变量不仅仅可以是简单的布尔值。变量也可以存储玩家名字、分数或者其他一些想要记录的事情。由于Ren’Py支持Python编程语言的所有功能，许多想法都可能实现。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://jcvvv.github.io">锦尘</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://jcvvv.github.io/2022/11/04/Ren'Py%20Visual%20Novel/">https://jcvvv.github.io/2022/11/04/Ren'Py%20Visual%20Novel/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://jcvvv.github.io" target="_blank">锦尘</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/python/">python</a><a class="post-meta__tags" href="/tags/Ren-Py/">Ren'Py</a><a class="post-meta__tags" href="/tags/%E8%A7%86%E8%A7%89%E5%B0%8F%E8%AF%B4/">视觉小说</a></div><div class="post_share"><div class="social-share" data-image="/pic/cover/13.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2022/11/13/Knowledge%20Atlas/"><img class="prev-cover" src="/pic/cover/14.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">知识图谱构建</div></div></a></div><div class="next-post pull-right"><a href="/2022/10/23/English%20Debate/"><img class="next-cover" src="/pic/cover/12.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">英语辩论</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2022/11/13/Knowledge%20Atlas/" title="知识图谱构建"><img class="cover" src="/pic/cover/14.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-13</div><div class="title">知识图谱构建</div></div></a></div><div><a href="/2022/10/01/Python%20Experiment/" title="python实验报告合集"><img class="cover" src="/pic/cover/6.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-01</div><div class="title">python实验报告合集</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/favicon.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">锦尘</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">32</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">56</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/JCvvv" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="https://space.bilibili.com/475586532?spm_id_from=333.1007.0.0" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="mailto:1747624698@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E8%A8%80"><span class="toc-number">1.</span> <span class="toc-text">前言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E7%9A%84%E5%BC%80%E5%A7%8B"><span class="toc-number">2.</span> <span class="toc-text">简单的开始</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A7%92%E8%89%B2"><span class="toc-number">3.</span> <span class="toc-text">创建角色</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%9B%BE%E5%83%8F"><span class="toc-number">4.</span> <span class="toc-text">显示图像</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BD%AC%E5%9C%BA%E6%95%88%E6%9E%9C"><span class="toc-number">5.</span> <span class="toc-text">转场效果</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%98%E6%8D%A2"><span class="toc-number">6.</span> <span class="toc-text">位置变换</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E5%92%8C%E9%9F%B3%E6%95%88"><span class="toc-number">7.</span> <span class="toc-text">音乐和音效</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9A%82%E5%81%9C%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.</span> <span class="toc-text">暂停语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%93%E6%9D%9F%E6%B8%B8%E6%88%8F"><span class="toc-number">9.</span> <span class="toc-text">结束游戏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">10.</span> <span class="toc-text">分支语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%98%E5%82%A8%E6%A0%87%E8%AF%86"><span class="toc-number">11.</span> <span class="toc-text">存储标识</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/11/01/Internship%20report/" title="认知实习汇总">认知实习汇总</a><time datetime="2023-10-31T16:00:00.000Z" title="发表于 2023-11-01 00:00:00">2023-11-01</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/31/Software/" title="软件工程作业合集">软件工程作业合集</a><time datetime="2023-10-30T16:00:00.000Z" title="发表于 2023-10-31 00:00:00">2023-10-31</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/30/SMS/" title="SMS短信嗅探实验报告">SMS短信嗅探实验报告</a><time datetime="2023-10-29T16:00:00.000Z" title="发表于 2023-10-30 00:00:00">2023-10-30</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/10/20/Data%20Mining/" title="数据挖掘实验报告">数据挖掘实验报告</a><time datetime="2023-10-19T16:00:00.000Z" title="发表于 2023-10-20 00:00:00">2023-10-20</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2023/07/28/Github%20Profile/" title="GitHub Profile美化">GitHub Profile美化</a><time datetime="2023-07-27T16:00:00.000Z" title="发表于 2023-07-28 00:00:00">2023-07-28</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/foot.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By 锦尘</div><div class="footer_custom_text">欢迎你，不知道从哪来的朋友</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><div class="js-pjax"><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>